{"ast":null,"code":"export default class{/**\r\n     * Constructor\r\n     */constructor(){this.callbacks={};this.callbacks.base={};}/**\r\n     * On\r\n     */on(_names,callback){const that=this;// Errors\nif(typeof _names==='undefined'||_names===''){console.warn('wrong names');return false;}if(typeof callback==='undefined'){console.warn('wrong callback');return false;}// Resolve names\nconst names=this.resolveNames(_names);// Each name\nnames.forEach(function(_name){// Resolve name\nconst name=that.resolveName(_name);// Create namespace if not exist\nif(!(that.callbacks[name.namespace]instanceof Object))that.callbacks[name.namespace]={};// Create callback if not exist\nif(!(that.callbacks[name.namespace][name.value]instanceof Array))that.callbacks[name.namespace][name.value]=[];// Add callback\nthat.callbacks[name.namespace][name.value].push(callback);});return this;}/**\r\n     * Off\r\n     */off(_names){const that=this;// Errors\nif(typeof _names==='undefined'||_names===''){console.warn('wrong name');return false;}// Resolve names\nconst names=this.resolveNames(_names);// Each name\nnames.forEach(function(_name){// Resolve name\nconst name=that.resolveName(_name);// Remove namespace\nif(name.namespace!=='base'&&name.value===''){delete that.callbacks[name.namespace];}// Remove specific callback in namespace\nelse{// Default\nif(name.namespace==='base'){// Try to remove from each namespace\nfor(const namespace in that.callbacks){if(that.callbacks[namespace]instanceof Object&&that.callbacks[namespace][name.value]instanceof Array){delete that.callbacks[namespace][name.value];// Remove namespace if empty\nif(Object.keys(that.callbacks[namespace]).length===0)delete that.callbacks[namespace];}}}// Specified namespace\nelse if(that.callbacks[name.namespace]instanceof Object&&that.callbacks[name.namespace][name.value]instanceof Array){delete that.callbacks[name.namespace][name.value];// Remove namespace if empty\nif(Object.keys(that.callbacks[name.namespace]).length===0)delete that.callbacks[name.namespace];}}});return this;}/**\r\n     * Trigger\r\n     */trigger(_name,_args){// Errors\nif(typeof _name==='undefined'||_name===''){console.warn('wrong name');return false;}const that=this;let finalResult=null;let result=null;// Default args\nconst args=!(_args instanceof Array)?[]:_args;// Resolve names (should on have one event)\nlet name=this.resolveNames(_name);// Resolve name\nname=this.resolveName(name[0]);// Default namespace\nif(name.namespace==='base'){// Try to find callback in each namespace\nfor(const namespace in that.callbacks){if(that.callbacks[namespace]instanceof Object&&that.callbacks[namespace][name.value]instanceof Array){that.callbacks[namespace][name.value].forEach(function(callback){result=callback.apply(that,args);if(typeof finalResult==='undefined'){finalResult=result;}});}}}// Specified namespace\nelse if(this.callbacks[name.namespace]instanceof Object){if(name.value===''){console.warn('wrong name');return this;}that.callbacks[name.namespace][name.value].forEach(function(callback){result=callback.apply(that,args);if(typeof finalResult==='undefined')finalResult=result;});}return finalResult;}/**\r\n     * Resolve names\r\n     */resolveNames(_names){let names=_names;names=names.replace(/[^a-zA-Z0-9 ,/.]/g,'');names=names.replace(/[,/]+/g,' ');names=names.split(' ');return names;}/**\r\n     * Resolve name\r\n     */resolveName(name){const newName={};const parts=name.split('.');newName.original=name;newName.value=parts[0];newName.namespace='base';// Base namespace\n// Specified namespace\nif(parts.length>1&&parts[1]!==''){newName.namespace=parts[1];}return newName;}}","map":{"version":3,"names":["constructor","callbacks","base","on","_names","callback","that","console","warn","names","resolveNames","forEach","_name","name","resolveName","namespace","Object","value","Array","push","off","keys","length","trigger","_args","finalResult","result","args","apply","replace","split","newName","parts","original"],"sources":["C:/laragon/www/folio-2019/src/javascript/Utils/EventEmitter.js"],"sourcesContent":["export default class\r\n{\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor()\r\n    {\r\n        this.callbacks = {}\r\n        this.callbacks.base = {}\r\n    }\r\n\r\n    /**\r\n     * On\r\n     */\r\n    on(_names, callback)\r\n    {\r\n        const that = this\r\n\r\n        // Errors\r\n        if(typeof _names === 'undefined' || _names === '')\r\n        {\r\n            console.warn('wrong names')\r\n            return false\r\n        }\r\n\r\n        if(typeof callback === 'undefined')\r\n        {\r\n            console.warn('wrong callback')\r\n            return false\r\n        }\r\n\r\n        // Resolve names\r\n        const names = this.resolveNames(_names)\r\n\r\n        // Each name\r\n        names.forEach(function(_name)\r\n        {\r\n            // Resolve name\r\n            const name = that.resolveName(_name)\r\n\r\n            // Create namespace if not exist\r\n            if(!(that.callbacks[ name.namespace ] instanceof Object))\r\n                that.callbacks[ name.namespace ] = {}\r\n\r\n            // Create callback if not exist\r\n            if(!(that.callbacks[ name.namespace ][ name.value ] instanceof Array))\r\n                that.callbacks[ name.namespace ][ name.value ] = []\r\n\r\n            // Add callback\r\n            that.callbacks[ name.namespace ][ name.value ].push(callback)\r\n        })\r\n\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Off\r\n     */\r\n    off(_names)\r\n    {\r\n        const that = this\r\n\r\n        // Errors\r\n        if(typeof _names === 'undefined' || _names === '')\r\n        {\r\n            console.warn('wrong name')\r\n            return false\r\n        }\r\n\r\n        // Resolve names\r\n        const names = this.resolveNames(_names)\r\n\r\n        // Each name\r\n        names.forEach(function(_name)\r\n        {\r\n            // Resolve name\r\n            const name = that.resolveName(_name)\r\n\r\n            // Remove namespace\r\n            if(name.namespace !== 'base' && name.value === '')\r\n            {\r\n                delete that.callbacks[ name.namespace ]\r\n            }\r\n\r\n            // Remove specific callback in namespace\r\n            else\r\n            {\r\n                // Default\r\n                if(name.namespace === 'base')\r\n                {\r\n                    // Try to remove from each namespace\r\n                    for(const namespace in that.callbacks)\r\n                    {\r\n                        if(that.callbacks[ namespace ] instanceof Object && that.callbacks[ namespace ][ name.value ] instanceof Array)\r\n                        {\r\n                            delete that.callbacks[ namespace ][ name.value ]\r\n\r\n                            // Remove namespace if empty\r\n                            if(Object.keys(that.callbacks[ namespace ]).length === 0)\r\n                                delete that.callbacks[ namespace ]\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Specified namespace\r\n                else if(that.callbacks[ name.namespace ] instanceof Object && that.callbacks[ name.namespace ][ name.value ] instanceof Array)\r\n                {\r\n                    delete that.callbacks[ name.namespace ][ name.value ]\r\n\r\n                    // Remove namespace if empty\r\n                    if(Object.keys(that.callbacks[ name.namespace ]).length === 0)\r\n                        delete that.callbacks[ name.namespace ]\r\n                }\r\n            }\r\n        })\r\n\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Trigger\r\n     */\r\n    trigger(_name, _args)\r\n    {\r\n        // Errors\r\n        if(typeof _name === 'undefined' || _name === '')\r\n        {\r\n            console.warn('wrong name')\r\n            return false\r\n        }\r\n\r\n        const that = this\r\n        let finalResult = null\r\n        let result = null\r\n\r\n        // Default args\r\n        const args = !(_args instanceof Array) ? [] : _args\r\n\r\n        // Resolve names (should on have one event)\r\n        let name = this.resolveNames(_name)\r\n\r\n        // Resolve name\r\n        name = this.resolveName(name[ 0 ])\r\n\r\n        // Default namespace\r\n        if(name.namespace === 'base')\r\n        {\r\n            // Try to find callback in each namespace\r\n            for(const namespace in that.callbacks)\r\n            {\r\n                if(that.callbacks[ namespace ] instanceof Object && that.callbacks[ namespace ][ name.value ] instanceof Array)\r\n                {\r\n                    that.callbacks[ namespace ][ name.value ].forEach(function(callback)\r\n                    {\r\n                        result = callback.apply(that, args)\r\n\r\n                        if(typeof finalResult === 'undefined')\r\n                        {\r\n                            finalResult = result\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        // Specified namespace\r\n        else if(this.callbacks[ name.namespace ] instanceof Object)\r\n        {\r\n            if(name.value === '')\r\n            {\r\n                console.warn('wrong name')\r\n                return this\r\n            }\r\n\r\n            that.callbacks[ name.namespace ][ name.value ].forEach(function(callback)\r\n            {\r\n                result = callback.apply(that, args)\r\n\r\n                if(typeof finalResult === 'undefined')\r\n                    finalResult = result\r\n            })\r\n        }\r\n\r\n        return finalResult\r\n    }\r\n\r\n    /**\r\n     * Resolve names\r\n     */\r\n    resolveNames(_names)\r\n    {\r\n        let names = _names\r\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')\r\n        names = names.replace(/[,/]+/g, ' ')\r\n        names = names.split(' ')\r\n\r\n        return names\r\n    }\r\n\r\n    /**\r\n     * Resolve name\r\n     */\r\n    resolveName(name)\r\n    {\r\n        const newName = {}\r\n        const parts = name.split('.')\r\n\r\n        newName.original  = name\r\n        newName.value     = parts[ 0 ]\r\n        newName.namespace = 'base' // Base namespace\r\n\r\n        // Specified namespace\r\n        if(parts.length > 1 && parts[ 1 ] !== '')\r\n        {\r\n            newName.namespace = parts[ 1 ]\r\n        }\r\n\r\n        return newName\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}