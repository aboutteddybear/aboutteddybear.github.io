{"ast":null,"code":"import _objectSpread from\"C:/laragon/www/folio-2019/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import*as THREE from'three';export default class Walls{constructor(_options){// Options\nthis.resources=_options.resources;this.objects=_options.objects;}add(_options){const wall={};wall.coordinates=[];wall.items=[];const shape=_options.shape;let widthCount=shape.widthCount;let heightCount=shape.heightCount;switch(_options.shape.type){case'rectangle':case'brick':for(let i=0;i<heightCount;i++){const lastLine=i===heightCount-1;let j=0;let widthCountTemp=widthCount;if(_options.shape.type==='brick'&&lastLine&&_options.shape.equilibrateLastLine){if(i%2===0){widthCountTemp--;}else{j++;}}for(;j<widthCountTemp;j++){const offset=new THREE.Vector3();offset.add(shape.offsetWidth.clone().multiplyScalar(j-(shape.widthCount-1)*0.5));offset.add(shape.offsetHeight.clone().multiplyScalar(i));offset.x+=(Math.random()-0.5)*shape.randomOffset.x;offset.y+=(Math.random()-0.5)*shape.randomOffset.y;offset.z+=(Math.random()-0.5)*shape.randomOffset.z;if(_options.shape.type==='brick'&&i%2===0){offset.add(shape.offsetWidth.clone().multiplyScalar(0.5));}const rotation=new THREE.Euler();rotation.x+=(Math.random()-0.5)*shape.randomRotation.x;rotation.y+=(Math.random()-0.5)*shape.randomRotation.y;rotation.z+=(Math.random()-0.5)*shape.randomRotation.z;wall.coordinates.push({offset,rotation});}}break;case'triangle':heightCount=shape.widthCount;for(let i=0;i<heightCount;i++){for(let j=0;j<widthCount;j++){const offset=new THREE.Vector3();offset.add(shape.offsetWidth.clone().multiplyScalar(j-(shape.widthCount-1)*0.5));offset.add(shape.offsetWidth.clone().multiplyScalar(i*0.5));offset.add(shape.offsetHeight.clone().multiplyScalar(i));offset.x+=(Math.random()-0.5)*shape.randomOffset.x;offset.y+=(Math.random()-0.5)*shape.randomOffset.y;offset.z+=(Math.random()-0.5)*shape.randomOffset.z;if(_options.shape.type==='brick'&&i%2===0){offset.add(shape.offsetWidth.clone().multiplyScalar(0.5));}const rotation=new THREE.Euler();rotation.x+=(Math.random()-0.5)*shape.randomRotation.x;rotation.y+=(Math.random()-0.5)*shape.randomRotation.y;rotation.z+=(Math.random()-0.5)*shape.randomRotation.z;wall.coordinates.push({offset,rotation});}widthCount--;}break;}for(const _coordinates of wall.coordinates){const objectOptions=_objectSpread({},_options.object);objectOptions.offset=_options.object.offset.clone().add(_coordinates.offset).add(shape.position);objectOptions.rotation=_options.object.rotation.clone();objectOptions.rotation.x+=_coordinates.rotation.x;objectOptions.rotation.y+=_coordinates.rotation.y;objectOptions.rotation.z+=_coordinates.rotation.z;wall.items.push(this.objects.add(objectOptions));}return wall;}}","map":{"version":3,"names":["THREE","Walls","constructor","_options","resources","objects","add","wall","coordinates","items","shape","widthCount","heightCount","type","i","lastLine","j","widthCountTemp","equilibrateLastLine","offset","Vector3","offsetWidth","clone","multiplyScalar","offsetHeight","x","Math","random","randomOffset","y","z","rotation","Euler","randomRotation","push","_coordinates","objectOptions","_objectSpread","object","position"],"sources":["C:/laragon/www/folio-2019/src/javascript/World/Walls.js"],"sourcesContent":["import * as THREE from 'three'\r\n\r\nexport default class Walls\r\n{\r\n    constructor(_options)\r\n    {\r\n        // Options\r\n        this.resources = _options.resources\r\n        this.objects = _options.objects\r\n    }\r\n\r\n    add(_options)\r\n    {\r\n        const wall = {}\r\n        wall.coordinates = []\r\n        wall.items = []\r\n\r\n        const shape = _options.shape\r\n        let widthCount = shape.widthCount\r\n        let heightCount = shape.heightCount\r\n\r\n        switch(_options.shape.type)\r\n        {\r\n            case 'rectangle':\r\n            case 'brick':\r\n                for(let i = 0; i < heightCount; i++)\r\n                {\r\n                    const lastLine = i === heightCount - 1\r\n                    let j = 0\r\n                    let widthCountTemp = widthCount\r\n\r\n                    if(_options.shape.type === 'brick' && lastLine && _options.shape.equilibrateLastLine)\r\n                    {\r\n                        if(i % 2 === 0)\r\n                        {\r\n                            widthCountTemp--\r\n                        }\r\n                        else\r\n                        {\r\n                            j++\r\n                        }\r\n                    }\r\n\r\n                    for(; j < widthCountTemp; j++)\r\n                    {\r\n                        const offset = new THREE.Vector3()\r\n                        offset.add(shape.offsetWidth.clone().multiplyScalar(j - (shape.widthCount - 1) * 0.5))\r\n                        offset.add(shape.offsetHeight.clone().multiplyScalar(i))\r\n                        offset.x += (Math.random() - 0.5) * shape.randomOffset.x\r\n                        offset.y += (Math.random() - 0.5) * shape.randomOffset.y\r\n                        offset.z += (Math.random() - 0.5) * shape.randomOffset.z\r\n\r\n                        if(_options.shape.type === 'brick' && i % 2 === 0)\r\n                        {\r\n                            offset.add(shape.offsetWidth.clone().multiplyScalar(0.5))\r\n                        }\r\n\r\n                        const rotation = new THREE.Euler()\r\n                        rotation.x += (Math.random() - 0.5) * shape.randomRotation.x\r\n                        rotation.y += (Math.random() - 0.5) * shape.randomRotation.y\r\n                        rotation.z += (Math.random() - 0.5) * shape.randomRotation.z\r\n\r\n                        wall.coordinates.push({\r\n                            offset,\r\n                            rotation\r\n                        })\r\n                    }\r\n                }\r\n\r\n                break\r\n\r\n            case 'triangle':\r\n                heightCount = shape.widthCount\r\n                for(let i = 0; i < heightCount; i++)\r\n                {\r\n                    for(let j = 0; j < widthCount; j++)\r\n                    {\r\n                        const offset = new THREE.Vector3()\r\n                        offset.add(shape.offsetWidth.clone().multiplyScalar(j - (shape.widthCount - 1) * 0.5))\r\n                        offset.add(shape.offsetWidth.clone().multiplyScalar(i * 0.5))\r\n                        offset.add(shape.offsetHeight.clone().multiplyScalar(i))\r\n                        offset.x += (Math.random() - 0.5) * shape.randomOffset.x\r\n                        offset.y += (Math.random() - 0.5) * shape.randomOffset.y\r\n                        offset.z += (Math.random() - 0.5) * shape.randomOffset.z\r\n\r\n                        if(_options.shape.type === 'brick' && i % 2 === 0)\r\n                        {\r\n                            offset.add(shape.offsetWidth.clone().multiplyScalar(0.5))\r\n                        }\r\n\r\n                        const rotation = new THREE.Euler()\r\n                        rotation.x += (Math.random() - 0.5) * shape.randomRotation.x\r\n                        rotation.y += (Math.random() - 0.5) * shape.randomRotation.y\r\n                        rotation.z += (Math.random() - 0.5) * shape.randomRotation.z\r\n\r\n\r\n                        wall.coordinates.push({\r\n                            offset,\r\n                            rotation\r\n                        })\r\n                    }\r\n\r\n                    widthCount--\r\n                }\r\n\r\n                break\r\n        }\r\n\r\n        for(const _coordinates of wall.coordinates)\r\n        {\r\n            const objectOptions = { ..._options.object }\r\n            objectOptions.offset = _options.object.offset.clone().add(_coordinates.offset).add(shape.position)\r\n            objectOptions.rotation = _options.object.rotation.clone()\r\n            objectOptions.rotation.x += _coordinates.rotation.x\r\n            objectOptions.rotation.y += _coordinates.rotation.y\r\n            objectOptions.rotation.z += _coordinates.rotation.z\r\n            wall.items.push(this.objects.add(objectOptions))\r\n        }\r\n\r\n        return wall\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}