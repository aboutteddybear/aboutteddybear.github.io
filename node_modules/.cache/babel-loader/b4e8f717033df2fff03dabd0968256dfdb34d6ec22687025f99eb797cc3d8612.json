{"ast":null,"code":"import*as THREE from'three';import CANNON from'cannon';import{TransformControls}from'three/examples/jsm/controls/TransformControls.js';export default class Car{constructor(_options){// Options\nthis.time=_options.time;this.resources=_options.resources;this.objects=_options.objects;this.physics=_options.physics;this.shadows=_options.shadows;this.materials=_options.materials;this.controls=_options.controls;this.sounds=_options.sounds;this.renderer=_options.renderer;this.camera=_options.camera;this.debug=_options.debug;this.config=_options.config;// Set up\nthis.container=new THREE.Object3D();this.position=new THREE.Vector3();// Debug\nif(this.debug){this.debugFolder=this.debug.addFolder('car');// this.debugFolder.open()\n}this.setModels();this.setMovement();this.setChassis();this.setAntena();this.setBackLights();this.setWheels();this.setTransformControls();this.setShootingBall();this.setKlaxon();}setModels(){this.models={};// Cyber truck\nif(this.config.cyberTruck){this.models.chassis=this.resources.items.carCyberTruckChassis;this.models.antena=this.resources.items.carCyberTruckAntena;this.models.backLightsBrake=this.resources.items.carCyberTruckBackLightsBrake;this.models.backLightsReverse=this.resources.items.carCyberTruckBackLightsReverse;this.models.wheel=this.resources.items.carCyberTruckWheel;}// Default\nelse{this.models.chassis=this.resources.items.carDefaultChassis;this.models.antena=this.resources.items.carDefaultAntena;// this.models.bunnyEarLeft = this.resources.items.carDefaultBunnyEarLeft\n// this.models.bunnyEarRight = this.resources.items.carDefaultBunnyEarRight\nthis.models.backLightsBrake=this.resources.items.carDefaultBackLightsBrake;this.models.backLightsReverse=this.resources.items.carDefaultBackLightsReverse;this.models.wheel=this.resources.items.carDefaultWheel;}}setMovement(){this.movement={};this.movement.speed=new THREE.Vector3();this.movement.localSpeed=new THREE.Vector3();this.movement.acceleration=new THREE.Vector3();this.movement.localAcceleration=new THREE.Vector3();this.movement.lastScreech=0;// Time tick\nthis.time.on('tick',()=>{// Movement\nconst movementSpeed=new THREE.Vector3();movementSpeed.copy(this.chassis.object.position).sub(this.chassis.oldPosition);movementSpeed.multiplyScalar(1/this.time.delta*17);this.movement.acceleration=movementSpeed.clone().sub(this.movement.speed);this.movement.speed.copy(movementSpeed);this.movement.localSpeed=this.movement.speed.clone().applyAxisAngle(new THREE.Vector3(0,0,1),-this.chassis.object.rotation.z);this.movement.localAcceleration=this.movement.acceleration.clone().applyAxisAngle(new THREE.Vector3(0,0,1),-this.chassis.object.rotation.z);// Sound\nthis.sounds.engine.speed=this.movement.localSpeed.x;this.sounds.engine.acceleration=this.controls.actions.up?this.controls.actions.boost?1:0.5:0;if(this.movement.localAcceleration.x>0.03&&this.time.elapsed-this.movement.lastScreech>5000){this.movement.lastScreech=this.time.elapsed;this.sounds.play('screech');}});}setChassis(){this.chassis={};this.chassis.offset=new THREE.Vector3(0,0,-0.28);this.chassis.object=this.objects.getConvertedMesh(this.models.chassis.scene.children);this.chassis.object.position.copy(this.physics.car.chassis.body.position);this.chassis.oldPosition=this.chassis.object.position.clone();this.container.add(this.chassis.object);this.shadows.add(this.chassis.object,{sizeX:3,sizeY:2,offsetZ:0.2});// Time tick\nthis.time.on('tick',()=>{// Save old position for movement calculation\nthis.chassis.oldPosition=this.chassis.object.position.clone();// Update if mode physics\nif(!this.transformControls.enabled){this.chassis.object.position.copy(this.physics.car.chassis.body.position).add(this.chassis.offset);this.chassis.object.quaternion.copy(this.physics.car.chassis.body.quaternion);}// Update position\nthis.position.copy(this.chassis.object.position);});}setAntena(){this.antena={};this.antena.speedStrength=10;this.antena.damping=0.035;this.antena.pullBackStrength=0.02;this.antena.object=this.objects.getConvertedMesh(this.models.antena.scene.children);this.chassis.object.add(this.antena.object);// this.antena.bunnyEarLeft = this.objects.getConvertedMesh(this.models.bunnyEarLeft.scene.children)\n// this.chassis.object.add(this.antena.bunnyEarLeft)\n// this.antena.bunnyEarRight = this.objects.getConvertedMesh(this.models.bunnyEarRight.scene.children)\n// this.chassis.object.add(this.antena.bunnyEarRight)\nthis.antena.speed=new THREE.Vector2();this.antena.absolutePosition=new THREE.Vector2();this.antena.localPosition=new THREE.Vector2();// Time tick\nthis.time.on('tick',()=>{const max=1;const accelerationX=Math.min(Math.max(this.movement.acceleration.x,-max),max);const accelerationY=Math.min(Math.max(this.movement.acceleration.y,-max),max);this.antena.speed.x-=accelerationX*this.antena.speedStrength;this.antena.speed.y-=accelerationY*this.antena.speedStrength;const position=this.antena.absolutePosition.clone();const pullBack=position.negate().multiplyScalar(position.length()*this.antena.pullBackStrength);this.antena.speed.add(pullBack);this.antena.speed.x*=1-this.antena.damping;this.antena.speed.y*=1-this.antena.damping;this.antena.absolutePosition.add(this.antena.speed);this.antena.localPosition.copy(this.antena.absolutePosition);this.antena.localPosition.rotateAround(new THREE.Vector2(),-this.chassis.object.rotation.z);this.antena.object.rotation.y=this.antena.localPosition.x*0.1;this.antena.object.rotation.x=this.antena.localPosition.y*0.1;// this.antena.bunnyEarLeft.rotation.y = this.antena.localPosition.x * 0.1\n// this.antena.bunnyEarLeft.rotation.x = this.antena.localPosition.y * 0.1\n// this.antena.bunnyEarRight.rotation.y = this.antena.localPosition.x * 0.1\n// this.antena.bunnyEarRight.rotation.x = this.antena.localPosition.y * 0.1\n});// Debug\nif(this.debug){const folder=this.debugFolder.addFolder('antena');folder.open();folder.add(this.antena,'speedStrength').step(0.001).min(0).max(50);folder.add(this.antena,'damping').step(0.0001).min(0).max(0.1);folder.add(this.antena,'pullBackStrength').step(0.0001).min(0).max(0.1);}}setBackLights(){this.backLightsBrake={};this.backLightsBrake.material=this.materials.pures.items.red.clone();this.backLightsBrake.material.transparent=true;this.backLightsBrake.material.opacity=0.5;this.backLightsBrake.object=this.objects.getConvertedMesh(this.models.backLightsBrake.scene.children);for(const _child of this.backLightsBrake.object.children){_child.material=this.backLightsBrake.material;}this.chassis.object.add(this.backLightsBrake.object);// Back lights brake\nthis.backLightsReverse={};this.backLightsReverse.material=this.materials.pures.items.yellow.clone();this.backLightsReverse.material.transparent=true;this.backLightsReverse.material.opacity=0.5;this.backLightsReverse.object=this.objects.getConvertedMesh(this.models.backLightsReverse.scene.children);for(const _child of this.backLightsReverse.object.children){_child.material=this.backLightsReverse.material;}this.chassis.object.add(this.backLightsReverse.object);// Time tick\nthis.time.on('tick',()=>{this.backLightsBrake.material.opacity=this.physics.controls.actions.brake?1:0.5;this.backLightsReverse.material.opacity=this.physics.controls.actions.down?1:0.5;});}setWheels(){this.wheels={};this.wheels.object=this.objects.getConvertedMesh(this.models.wheel.scene.children);this.wheels.items=[];for(let i=0;i<4;i++){const object=this.wheels.object.clone();this.wheels.items.push(object);this.container.add(object);}// Time tick\nthis.time.on('tick',()=>{if(!this.transformControls.enabled){for(const _wheelKey in this.physics.car.wheels.bodies){const wheelBody=this.physics.car.wheels.bodies[_wheelKey];const wheelObject=this.wheels.items[_wheelKey];wheelObject.position.copy(wheelBody.position);wheelObject.quaternion.copy(wheelBody.quaternion);}}});}setTransformControls(){this.transformControls=new TransformControls(this.camera.instance,this.renderer.domElement);this.transformControls.size=0.5;this.transformControls.attach(this.chassis.object);this.transformControls.enabled=false;this.transformControls.visible=this.transformControls.enabled;document.addEventListener('keydown',_event=>{if(this.mode==='transformControls'){if(_event.key==='r'){this.transformControls.setMode('rotate');}else if(_event.key==='g'){this.transformControls.setMode('translate');}}});this.transformControls.addEventListener('dragging-changed',_event=>{this.camera.orbitControls.enabled=!_event.value;});this.container.add(this.transformControls);if(this.debug){const folder=this.debugFolder.addFolder('controls');folder.open();folder.add(this.transformControls,'enabled').onChange(()=>{this.transformControls.visible=this.transformControls.enabled;});}}setShootingBall(){if(!this.config.cyberTruck){return;}window.addEventListener('keydown',_event=>{if(_event.key==='b'){const angle=Math.random()*Math.PI*2;const distance=10;const x=this.position.x+Math.cos(angle)*distance;const y=this.position.y+Math.sin(angle)*distance;const z=2+2*Math.random();const bowlingBall=this.objects.add({base:this.resources.items.bowlingBallBase.scene,collision:this.resources.items.bowlingBallCollision.scene,offset:new THREE.Vector3(x,y,z),rotation:new THREE.Euler(Math.PI*0.5,0,0),duplicated:true,shadow:{sizeX:1.5,sizeY:1.5,offsetZ:-0.15,alpha:0.35},mass:5,soundName:'bowlingBall',sleep:false});const carPosition=new CANNON.Vec3(this.position.x,this.position.y,this.position.z+1);let direction=carPosition.vsub(bowlingBall.collision.body.position);direction.normalize();direction=direction.scale(100);bowlingBall.collision.body.applyImpulse(direction,bowlingBall.collision.body.position);}});}setKlaxon(){this.klaxon={};this.klaxon.lastTime=this.time.elapsed;window.addEventListener('keydown',_event=>{// Play horn sound\nif(_event.code==='KeyH'){if(this.time.elapsed-this.klaxon.lastTime>400){this.physics.car.jump(false,150);this.klaxon.lastTime=this.time.elapsed;}this.sounds.play(Math.random()<0.002?'carHorn2':'carHorn1');}// Rain horns\nif(_event.key==='k'){const x=this.position.x+(Math.random()-0.5)*3;const y=this.position.y+(Math.random()-0.5)*3;const z=6+2*Math.random();this.objects.add({base:this.resources.items.hornBase.scene,collision:this.resources.items.hornCollision.scene,offset:new THREE.Vector3(x,y,z),rotation:new THREE.Euler(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),duplicated:true,shadow:{sizeX:1.5,sizeY:1.5,offsetZ:-0.15,alpha:0.35},mass:5,soundName:'horn',sleep:false});}});}}","map":{"version":3,"names":["THREE","CANNON","TransformControls","Car","constructor","_options","time","resources","objects","physics","shadows","materials","controls","sounds","renderer","camera","debug","config","container","Object3D","position","Vector3","debugFolder","addFolder","setModels","setMovement","setChassis","setAntena","setBackLights","setWheels","setTransformControls","setShootingBall","setKlaxon","models","cyberTruck","chassis","items","carCyberTruckChassis","antena","carCyberTruckAntena","backLightsBrake","carCyberTruckBackLightsBrake","backLightsReverse","carCyberTruckBackLightsReverse","wheel","carCyberTruckWheel","carDefaultChassis","carDefaultAntena","carDefaultBackLightsBrake","carDefaultBackLightsReverse","carDefaultWheel","movement","speed","localSpeed","acceleration","localAcceleration","lastScreech","on","movementSpeed","copy","object","sub","oldPosition","multiplyScalar","delta","clone","applyAxisAngle","rotation","z","engine","x","actions","up","boost","elapsed","play","offset","getConvertedMesh","scene","children","car","body","add","sizeX","sizeY","offsetZ","transformControls","enabled","quaternion","speedStrength","damping","pullBackStrength","Vector2","absolutePosition","localPosition","max","accelerationX","Math","min","accelerationY","y","pullBack","negate","length","rotateAround","folder","open","step","material","pures","red","transparent","opacity","_child","yellow","brake","down","wheels","i","push","_wheelKey","bodies","wheelBody","wheelObject","instance","domElement","size","attach","visible","document","addEventListener","_event","mode","key","setMode","orbitControls","value","onChange","window","angle","random","PI","distance","cos","sin","bowlingBall","base","bowlingBallBase","collision","bowlingBallCollision","Euler","duplicated","shadow","alpha","mass","soundName","sleep","carPosition","Vec3","direction","vsub","normalize","scale","applyImpulse","klaxon","lastTime","code","jump","hornBase","hornCollision"],"sources":["C:/laragon/www/folio-2019/src/javascript/World/Car.js"],"sourcesContent":["import * as THREE from 'three'\r\nimport CANNON from 'cannon'\r\nimport { TransformControls } from 'three/examples/jsm/controls/TransformControls.js'\r\n\r\nexport default class Car\r\n{\r\n    constructor(_options)\r\n    {\r\n        // Options\r\n        this.time = _options.time\r\n        this.resources = _options.resources\r\n        this.objects = _options.objects\r\n        this.physics = _options.physics\r\n        this.shadows = _options.shadows\r\n        this.materials = _options.materials\r\n        this.controls = _options.controls\r\n        this.sounds = _options.sounds\r\n        this.renderer = _options.renderer\r\n        this.camera = _options.camera\r\n        this.debug = _options.debug\r\n        this.config = _options.config\r\n\r\n        // Set up\r\n        this.container = new THREE.Object3D()\r\n        this.position = new THREE.Vector3()\r\n\r\n        // Debug\r\n        if(this.debug)\r\n        {\r\n            this.debugFolder = this.debug.addFolder('car')\r\n            // this.debugFolder.open()\r\n        }\r\n\r\n        this.setModels()\r\n        this.setMovement()\r\n        this.setChassis()\r\n        this.setAntena()\r\n        this.setBackLights()\r\n        this.setWheels()\r\n        this.setTransformControls()\r\n        this.setShootingBall()\r\n        this.setKlaxon()\r\n    }\r\n\r\n    setModels()\r\n    {\r\n        this.models = {}\r\n\r\n        // Cyber truck\r\n        if(this.config.cyberTruck)\r\n        {\r\n            this.models.chassis = this.resources.items.carCyberTruckChassis\r\n            this.models.antena = this.resources.items.carCyberTruckAntena\r\n            this.models.backLightsBrake = this.resources.items.carCyberTruckBackLightsBrake\r\n            this.models.backLightsReverse = this.resources.items.carCyberTruckBackLightsReverse\r\n            this.models.wheel = this.resources.items.carCyberTruckWheel\r\n        }\r\n\r\n        // Default\r\n        else\r\n        {\r\n            this.models.chassis = this.resources.items.carDefaultChassis\r\n            this.models.antena = this.resources.items.carDefaultAntena\r\n            // this.models.bunnyEarLeft = this.resources.items.carDefaultBunnyEarLeft\r\n            // this.models.bunnyEarRight = this.resources.items.carDefaultBunnyEarRight\r\n            this.models.backLightsBrake = this.resources.items.carDefaultBackLightsBrake\r\n            this.models.backLightsReverse = this.resources.items.carDefaultBackLightsReverse\r\n            this.models.wheel = this.resources.items.carDefaultWheel\r\n        }\r\n    }\r\n\r\n    setMovement()\r\n    {\r\n        this.movement = {}\r\n        this.movement.speed = new THREE.Vector3()\r\n        this.movement.localSpeed = new THREE.Vector3()\r\n        this.movement.acceleration = new THREE.Vector3()\r\n        this.movement.localAcceleration = new THREE.Vector3()\r\n        this.movement.lastScreech = 0\r\n\r\n        // Time tick\r\n        this.time.on('tick', () =>\r\n        {\r\n            // Movement\r\n            const movementSpeed = new THREE.Vector3()\r\n            movementSpeed.copy(this.chassis.object.position).sub(this.chassis.oldPosition)\r\n            movementSpeed.multiplyScalar(1 / this.time.delta * 17)\r\n            this.movement.acceleration = movementSpeed.clone().sub(this.movement.speed)\r\n            this.movement.speed.copy(movementSpeed)\r\n\r\n            this.movement.localSpeed = this.movement.speed.clone().applyAxisAngle(new THREE.Vector3(0, 0, 1), - this.chassis.object.rotation.z)\r\n            this.movement.localAcceleration = this.movement.acceleration.clone().applyAxisAngle(new THREE.Vector3(0, 0, 1), - this.chassis.object.rotation.z)\r\n\r\n            // Sound\r\n            this.sounds.engine.speed = this.movement.localSpeed.x\r\n            this.sounds.engine.acceleration = this.controls.actions.up ? (this.controls.actions.boost ? 1 : 0.5) : 0\r\n\r\n            if(this.movement.localAcceleration.x > 0.03 && this.time.elapsed - this.movement.lastScreech > 5000)\r\n            {\r\n                this.movement.lastScreech = this.time.elapsed\r\n                this.sounds.play('screech')\r\n            }\r\n        })\r\n    }\r\n\r\n    setChassis()\r\n    {\r\n        this.chassis = {}\r\n        this.chassis.offset = new THREE.Vector3(0, 0, - 0.28)\r\n        this.chassis.object = this.objects.getConvertedMesh(this.models.chassis.scene.children)\r\n        this.chassis.object.position.copy(this.physics.car.chassis.body.position)\r\n        this.chassis.oldPosition = this.chassis.object.position.clone()\r\n        this.container.add(this.chassis.object)\r\n\r\n        this.shadows.add(this.chassis.object, { sizeX: 3, sizeY: 2, offsetZ: 0.2 })\r\n\r\n        // Time tick\r\n        this.time.on('tick', () =>\r\n        {\r\n            // Save old position for movement calculation\r\n            this.chassis.oldPosition = this.chassis.object.position.clone()\r\n\r\n            // Update if mode physics\r\n            if(!this.transformControls.enabled)\r\n            {\r\n                this.chassis.object.position.copy(this.physics.car.chassis.body.position).add(this.chassis.offset)\r\n                this.chassis.object.quaternion.copy(this.physics.car.chassis.body.quaternion)\r\n            }\r\n\r\n            // Update position\r\n            this.position.copy(this.chassis.object.position)\r\n        })\r\n    }\r\n\r\n    setAntena()\r\n    {\r\n        this.antena = {}\r\n\r\n        this.antena.speedStrength = 10\r\n        this.antena.damping = 0.035\r\n        this.antena.pullBackStrength = 0.02\r\n\r\n        this.antena.object = this.objects.getConvertedMesh(this.models.antena.scene.children)\r\n        this.chassis.object.add(this.antena.object)\r\n\r\n        // this.antena.bunnyEarLeft = this.objects.getConvertedMesh(this.models.bunnyEarLeft.scene.children)\r\n        // this.chassis.object.add(this.antena.bunnyEarLeft)\r\n\r\n        // this.antena.bunnyEarRight = this.objects.getConvertedMesh(this.models.bunnyEarRight.scene.children)\r\n        // this.chassis.object.add(this.antena.bunnyEarRight)\r\n\r\n        this.antena.speed = new THREE.Vector2()\r\n        this.antena.absolutePosition = new THREE.Vector2()\r\n        this.antena.localPosition = new THREE.Vector2()\r\n\r\n        // Time tick\r\n        this.time.on('tick', () =>\r\n        {\r\n            const max = 1\r\n            const accelerationX = Math.min(Math.max(this.movement.acceleration.x, - max), max)\r\n            const accelerationY = Math.min(Math.max(this.movement.acceleration.y, - max), max)\r\n\r\n            this.antena.speed.x -= accelerationX * this.antena.speedStrength\r\n            this.antena.speed.y -= accelerationY * this.antena.speedStrength\r\n\r\n            const position = this.antena.absolutePosition.clone()\r\n            const pullBack = position.negate().multiplyScalar(position.length() * this.antena.pullBackStrength)\r\n            this.antena.speed.add(pullBack)\r\n\r\n            this.antena.speed.x *= 1 - this.antena.damping\r\n            this.antena.speed.y *= 1 - this.antena.damping\r\n\r\n            this.antena.absolutePosition.add(this.antena.speed)\r\n\r\n            this.antena.localPosition.copy(this.antena.absolutePosition)\r\n            this.antena.localPosition.rotateAround(new THREE.Vector2(), - this.chassis.object.rotation.z)\r\n\r\n            this.antena.object.rotation.y = this.antena.localPosition.x * 0.1\r\n            this.antena.object.rotation.x = this.antena.localPosition.y * 0.1\r\n\r\n            // this.antena.bunnyEarLeft.rotation.y = this.antena.localPosition.x * 0.1\r\n            // this.antena.bunnyEarLeft.rotation.x = this.antena.localPosition.y * 0.1\r\n\r\n            // this.antena.bunnyEarRight.rotation.y = this.antena.localPosition.x * 0.1\r\n            // this.antena.bunnyEarRight.rotation.x = this.antena.localPosition.y * 0.1\r\n        })\r\n\r\n        // Debug\r\n        if(this.debug)\r\n        {\r\n            const folder = this.debugFolder.addFolder('antena')\r\n            folder.open()\r\n\r\n            folder.add(this.antena, 'speedStrength').step(0.001).min(0).max(50)\r\n            folder.add(this.antena, 'damping').step(0.0001).min(0).max(0.1)\r\n            folder.add(this.antena, 'pullBackStrength').step(0.0001).min(0).max(0.1)\r\n        }\r\n    }\r\n\r\n    setBackLights()\r\n    {\r\n        this.backLightsBrake = {}\r\n\r\n        this.backLightsBrake.material = this.materials.pures.items.red.clone()\r\n        this.backLightsBrake.material.transparent = true\r\n        this.backLightsBrake.material.opacity = 0.5\r\n\r\n        this.backLightsBrake.object = this.objects.getConvertedMesh(this.models.backLightsBrake.scene.children)\r\n        for(const _child of this.backLightsBrake.object.children)\r\n        {\r\n            _child.material = this.backLightsBrake.material\r\n        }\r\n\r\n        this.chassis.object.add(this.backLightsBrake.object)\r\n\r\n        // Back lights brake\r\n        this.backLightsReverse = {}\r\n\r\n        this.backLightsReverse.material = this.materials.pures.items.yellow.clone()\r\n        this.backLightsReverse.material.transparent = true\r\n        this.backLightsReverse.material.opacity = 0.5\r\n\r\n        this.backLightsReverse.object = this.objects.getConvertedMesh(this.models.backLightsReverse.scene.children)\r\n        for(const _child of this.backLightsReverse.object.children)\r\n        {\r\n            _child.material = this.backLightsReverse.material\r\n        }\r\n\r\n        this.chassis.object.add(this.backLightsReverse.object)\r\n\r\n        // Time tick\r\n        this.time.on('tick', () =>\r\n        {\r\n            this.backLightsBrake.material.opacity = this.physics.controls.actions.brake ? 1 : 0.5\r\n            this.backLightsReverse.material.opacity = this.physics.controls.actions.down ? 1 : 0.5\r\n        })\r\n    }\r\n\r\n    setWheels()\r\n    {\r\n        this.wheels = {}\r\n        this.wheels.object = this.objects.getConvertedMesh(this.models.wheel.scene.children)\r\n        this.wheels.items = []\r\n\r\n        for(let i = 0; i < 4; i++)\r\n        {\r\n            const object = this.wheels.object.clone()\r\n\r\n            this.wheels.items.push(object)\r\n            this.container.add(object)\r\n        }\r\n\r\n        // Time tick\r\n        this.time.on('tick', () =>\r\n        {\r\n            if(!this.transformControls.enabled)\r\n            {\r\n                for(const _wheelKey in this.physics.car.wheels.bodies)\r\n                {\r\n                    const wheelBody = this.physics.car.wheels.bodies[_wheelKey]\r\n                    const wheelObject = this.wheels.items[_wheelKey]\r\n\r\n                    wheelObject.position.copy(wheelBody.position)\r\n                    wheelObject.quaternion.copy(wheelBody.quaternion)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    setTransformControls()\r\n    {\r\n        this.transformControls = new TransformControls(this.camera.instance, this.renderer.domElement)\r\n        this.transformControls.size = 0.5\r\n        this.transformControls.attach(this.chassis.object)\r\n        this.transformControls.enabled = false\r\n        this.transformControls.visible = this.transformControls.enabled\r\n\r\n        document.addEventListener('keydown', (_event) =>\r\n        {\r\n            if(this.mode === 'transformControls')\r\n            {\r\n                if(_event.key === 'r')\r\n                {\r\n                    this.transformControls.setMode('rotate')\r\n                }\r\n                else if(_event.key === 'g')\r\n                {\r\n                    this.transformControls.setMode('translate')\r\n                }\r\n            }\r\n        })\r\n\r\n        this.transformControls.addEventListener('dragging-changed', (_event) =>\r\n        {\r\n            this.camera.orbitControls.enabled = !_event.value\r\n        })\r\n\r\n        this.container.add(this.transformControls)\r\n\r\n        if(this.debug)\r\n        {\r\n            const folder = this.debugFolder.addFolder('controls')\r\n            folder.open()\r\n\r\n            folder.add(this.transformControls, 'enabled').onChange(() =>\r\n            {\r\n                this.transformControls.visible = this.transformControls.enabled\r\n            })\r\n        }\r\n    }\r\n\r\n    setShootingBall()\r\n    {\r\n        if(!this.config.cyberTruck)\r\n        {\r\n            return\r\n        }\r\n\r\n        window.addEventListener('keydown', (_event) =>\r\n        {\r\n            if(_event.key === 'b')\r\n            {\r\n                const angle = Math.random() * Math.PI * 2\r\n                const distance = 10\r\n                const x = this.position.x + Math.cos(angle) * distance\r\n                const y = this.position.y + Math.sin(angle) * distance\r\n                const z = 2 + 2 * Math.random()\r\n                const bowlingBall = this.objects.add({\r\n                    base: this.resources.items.bowlingBallBase.scene,\r\n                    collision: this.resources.items.bowlingBallCollision.scene,\r\n                    offset: new THREE.Vector3(x, y, z),\r\n                    rotation: new THREE.Euler(Math.PI * 0.5, 0, 0),\r\n                    duplicated: true,\r\n                    shadow: { sizeX: 1.5, sizeY: 1.5, offsetZ: - 0.15, alpha: 0.35 },\r\n                    mass: 5,\r\n                    soundName: 'bowlingBall',\r\n                    sleep: false\r\n                })\r\n\r\n                const carPosition = new CANNON.Vec3(this.position.x, this.position.y, this.position.z + 1)\r\n                let direction = carPosition.vsub(bowlingBall.collision.body.position)\r\n                direction.normalize()\r\n                direction = direction.scale(100)\r\n                bowlingBall.collision.body.applyImpulse(direction, bowlingBall.collision.body.position)\r\n            }\r\n        })\r\n    }\r\n\r\n    setKlaxon()\r\n    {\r\n        this.klaxon = {}\r\n        this.klaxon.lastTime = this.time.elapsed\r\n\r\n        window.addEventListener('keydown', (_event) =>\r\n        {\r\n            // Play horn sound\r\n            if(_event.code === 'KeyH')\r\n            {\r\n                if(this.time.elapsed - this.klaxon.lastTime > 400)\r\n                {\r\n                    this.physics.car.jump(false, 150)\r\n                    this.klaxon.lastTime = this.time.elapsed\r\n                }\r\n\r\n                this.sounds.play(Math.random() < 0.002 ? 'carHorn2' : 'carHorn1')\r\n            }\r\n\r\n            // Rain horns\r\n            if(_event.key === 'k')\r\n            {\r\n                const x = this.position.x + (Math.random() - 0.5) * 3\r\n                const y = this.position.y + (Math.random() - 0.5) * 3\r\n                const z = 6 + 2 * Math.random()\r\n\r\n                this.objects.add({\r\n                    base: this.resources.items.hornBase.scene,\r\n                    collision: this.resources.items.hornCollision.scene,\r\n                    offset: new THREE.Vector3(x, y, z),\r\n                    rotation: new THREE.Euler(Math.random() * Math.PI * 2, Math.random() * Math.PI * 2, Math.random() * Math.PI * 2),\r\n                    duplicated: true,\r\n                    shadow: { sizeX: 1.5, sizeY: 1.5, offsetZ: - 0.15, alpha: 0.35 },\r\n                    mass: 5,\r\n                    soundName: 'horn',\r\n                    sleep: false\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}