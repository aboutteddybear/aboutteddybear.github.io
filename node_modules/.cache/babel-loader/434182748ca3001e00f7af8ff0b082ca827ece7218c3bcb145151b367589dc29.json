{"ast":null,"code":"import*as THREE from'three';import Zone from'./Zone.js';export default class Zones{constructor(_options){// Options\nthis.time=_options.time;this.sizes=_options.sizes;this.physics=_options.physics;this.debug=_options.debug;// Set up\nthis.container=new THREE.Object3D();this.container.visible=false;this.container.matrixAutoUpdate=false;// Debug\nif(this.debug){this.debugFolder=this.debug.addFolder('zones');this.debugFolder.open();this.debugFolder.add(this.container,'visible').name('visible');}this.setTester();this.setItems();}setTester(){this.tester={};this.tester.x=0;this.tester.y=0;this.time.on('tick',()=>{this.tester.x=this.physics.car.chassis.body.position.x;this.tester.y=this.physics.car.chassis.body.position.y;});}setItems(){this.items=[];this.time.on('tick',()=>{for(const _zone of this.items){const isIn=this.tester.x<_zone.position.x+_zone.halfExtents.x&&this.tester.x>_zone.position.x-_zone.halfExtents.x&&this.tester.y<_zone.position.y+_zone.halfExtents.y&&this.tester.y>_zone.position.y-_zone.halfExtents.y;if(isIn&&!_zone.isIn){_zone.trigger('in',[_zone.data]);}else if(!isIn&&_zone.isIn){_zone.trigger('out',[_zone.data]);}_zone.isIn=isIn;}});}add(_settings){// Set up\nconst zone=new Zone(_settings);this.container.add(zone.mesh);// Save\nthis.items.push(zone);return zone;}}","map":{"version":3,"names":["THREE","Zone","Zones","constructor","_options","time","sizes","physics","debug","container","Object3D","visible","matrixAutoUpdate","debugFolder","addFolder","open","add","name","setTester","setItems","tester","x","y","on","car","chassis","body","position","items","_zone","isIn","halfExtents","trigger","data","_settings","zone","mesh","push"],"sources":["C:/laragon/www/folio-2019/src/javascript/World/Zones.js"],"sourcesContent":["import * as THREE from 'three'\r\nimport Zone from './Zone.js'\r\n\r\nexport default class Zones\r\n{\r\n    constructor(_options)\r\n    {\r\n        // Options\r\n        this.time = _options.time\r\n        this.sizes = _options.sizes\r\n        this.physics = _options.physics\r\n        this.debug = _options.debug\r\n\r\n        // Set up\r\n        this.container = new THREE.Object3D()\r\n        this.container.visible = false\r\n        this.container.matrixAutoUpdate = false\r\n\r\n        // Debug\r\n        if(this.debug)\r\n        {\r\n            this.debugFolder = this.debug.addFolder('zones')\r\n            this.debugFolder.open()\r\n\r\n            this.debugFolder.add(this.container, 'visible').name('visible')\r\n        }\r\n\r\n        this.setTester()\r\n        this.setItems()\r\n    }\r\n\r\n    setTester()\r\n    {\r\n        this.tester = {}\r\n        this.tester.x = 0\r\n        this.tester.y = 0\r\n\r\n        this.time.on('tick', () =>\r\n        {\r\n            this.tester.x = this.physics.car.chassis.body.position.x\r\n            this.tester.y = this.physics.car.chassis.body.position.y\r\n        })\r\n    }\r\n\r\n    setItems()\r\n    {\r\n        this.items = []\r\n\r\n        this.time.on('tick', () =>\r\n        {\r\n            for(const _zone of this.items)\r\n            {\r\n                const isIn = this.tester.x < _zone.position.x + _zone.halfExtents.x && this.tester.x > _zone.position.x - _zone.halfExtents.x && this.tester.y < _zone.position.y + _zone.halfExtents.y && this.tester.y > _zone.position.y - _zone.halfExtents.y\r\n\r\n                if(isIn && !_zone.isIn)\r\n                {\r\n                    _zone.trigger('in', [_zone.data])\r\n                }\r\n                else if(!isIn && _zone.isIn)\r\n                {\r\n                    _zone.trigger('out', [_zone.data])\r\n                }\r\n\r\n                _zone.isIn = isIn\r\n            }\r\n        })\r\n    }\r\n\r\n    add(_settings)\r\n    {\r\n        // Set up\r\n        const zone = new Zone(_settings)\r\n        this.container.add(zone.mesh)\r\n\r\n        // Save\r\n        this.items.push(zone)\r\n\r\n        return zone\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}